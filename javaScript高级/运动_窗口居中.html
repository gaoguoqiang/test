<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#div1{width:100px;height:100px;background-color: red;position: absolute;}
	</style>
	<script>
		window.onscroll = function(){
			var oDiv = document.getElementById('div1');
			var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
			var t =  scrollTop+(document.documentElement.clientHeight-oDiv.offsetHeight)/2;
			//oDiv.style.top =t+'px';
			//目标点可能是小数，所以要取整
			startMove(parseInt(t))
		}
		var timer = null;
		function startMove(target){
			var oDiv = document.getElementById('div1');
			clearInterval(timer);
			timer = setInterval(function(){
				var speed = (target-oDiv.offsetTop)/8;
				//判断目标点大于还是小于当前位置
				//大于：向上取整
				//小于：向下取整
				speed = speed>0?Math.ceil(speed):Math.floor(speed);
				if(oDiv.offsetTop == target){
					clearInterval(timer)
				}else{
					oDiv.style.top = oDiv.offsetTop+speed+'px';
				}

			},30)
		}
		
	</script>
</head>
<body style="height:2000px;">
<div id="div1"></div>
	
</body>
</html>